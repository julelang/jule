// Copyright 2022 The Jule Programming Language.
// Use of this source code is governed by a BSD 3-Clause
// license that can be found in the LICENSE file.

//jule:enofi

use std::conv::{parse_float}
use std::io::{readln}

fn numeric_input(msg: str) (flt: f64, ok: bool) {
	out(msg)
	let input = readln()
	let mut err: Error = nil
	flt, err = parse_float(input, 64)
	ok = err == nil
	ret
}

fn main() {
	for {
		let (left, left_ok) = numeric_input("Input left: ")
		if !left_ok {
			outln("Invalid left!")
			continue
		}
		let (right, right_ok) = numeric_input("Input right: ")
		if !right_ok {
			outln("Invalid right!")
			continue
		}
		out("Choose your op: + - / *\nYour op: ")
		let input = readln()
		match input {
		case "+":
			outln(left + right)
		case "-":
			outln(left - right)
		case "*":
			outln(left * right)
		case "/":
			outln(left / right)
		default:
			outln("Invalid op!")
		}
	}
}
